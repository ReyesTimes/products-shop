(function(t){function e(e){for(var r,c,s=e[0],i=e[1],u=e[2],l=0,m=[];l<s.length;l++)c=s[l],a[c]&&m.push(a[c][0]),a[c]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);d&&d(e);while(m.length)m.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,c=1;c<n.length;c++){var i=n[c];0!==a[i]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},a={app:0},o=[];function c(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-2d210098":"55761bf2"}[t]+".js"}function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=a[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise(function(e,r){n=a[t]=[e,r]});e.push(n[2]=r);var o,i=document.createElement("script");i.charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.src=c(t),o=function(e){i.onerror=i.onload=null,clearTimeout(u);var n=a[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src,c=new Error("Loading chunk "+t+" failed.\n("+r+": "+o+")");c.type=r,c.request=o,n[1](c)}a[t]=void 0}};var u=setTimeout(function(){o({type:"timeout",target:i})},12e4);i.onerror=i.onload=o,document.head.appendChild(i)}return Promise.all(e)},s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s.oe=function(t){throw console.error(t),t};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0145":function(t,e,n){},"134c":function(t,e,n){},"169d":function(t,e,n){},4001:function(t,e,n){"use strict";var r=n("0145"),a=n.n(r);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r,a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("HeaderComponent"),n("router-view")],1)},c=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"header"},[n("nav",{staticClass:"container"},[n("ul",{staticClass:"header__list"},[n("li",{staticClass:"header__list--el"},[n("router-link",{attrs:{to:{name:"home"}}},[t._v("\n                    Inicio\n                ")])],1),n("li",{staticClass:"header__list--el"},[n("HeaderCart")],1)])])])},i=[],u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("router-link",{staticClass:"cart__container",attrs:{to:{name:"myProducts"}}},[t.renderNumberMyProduct?r("span",{staticClass:"cart__container--number"},[t._v("\n        "+t._s(t.renderNumberMyProduct)+"\n    ")]):t._e(),r("img",{staticClass:"cart__container--icon",attrs:{src:n("d176")}}),r("span",[t._v("\n        Carrito\n    ")])])},l=[],d={computed:{renderNumberMyProduct:function(){return this.$store.state.quantity?this.$store.state.quantity:""}}},m=d,_=(n("d0dc"),n("2877")),p=Object(_["a"])(m,u,l,!1,null,null,null),f=p.exports,v={components:{HeaderCart:f}},y=v,T=(n("dead"),Object(_["a"])(y,s,i,!1,null,null,null)),P=T.exports,g={components:{HeaderComponent:P},mounted:function(){this.$store.dispatch("GET_MY_PRODUCTS")}},b=g,h=Object(_["a"])(b,o,c,!1,null,null,null),C=h.exports,O=n("8c4f"),S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"container"},[n("Products")],1)},q=[],U=n("cebc"),j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("draggable",{staticClass:"products__container",attrs:{list:t.products,options:t.options},on:{start:t.move,end:t.move}},[t._l(t.products,function(e,r){return n("div",{key:r,staticClass:"products__el",attrs:{"data-el":r}},[n("div",{staticClass:"products__el--img"},[n("img",{attrs:{src:e.ImgMedia,alt:e.ProductName}}),t.getQuantityByProduct(e)?n("div",{staticClass:"products__el--quantity"},[t._v(t._s(t.getQuantityByProduct(e)))]):t._e()]),n("div",{staticClass:"products__info"},[n("div",{staticClass:"products__info--name"},[n("strong",[t._v(t._s(e.ProductName))])]),n("div",{staticClass:"products__info--brand"},[n("span",[t._v(t._s(e.ProductBrand))])]),n("div",{staticClass:"products__info--prize"},[n("span",[t._v("$"+t._s(t._f("format-money")(e.Prize)))])]),n("button",{staticClass:"products__info--buy",on:{click:function(n){return t.buyProduct(e,r)}}},[n("div",[n("span",[t._v("Comprar")]),n("span",[t._v("+")])])])])])}),t.dragging||t.moveTime.value?n("div",{staticClass:"drag__container"},[t.moveTime.value?t._e():n("p",[t._v("Arrastra aquí el producto que quieres agregar al carrito.")]),t.moveTime.value?n("div",[t._v("Se ha agregado el producto "),n("span",{staticClass:"quantity--text"},[t._v(t._s(t.moveTime.product.ProductName))]),t._v(" al carrito.")]):t._e()]):t._e()],2)},D=[],I=n("768b"),E=n("2f62"),A=n("1980"),N=n.n(A),R={data:function(){return{options:{group:!1,sort:!1,draggable:".products__el"},moveTime:{value:!1,product:{}}}},computed:Object(U["a"])({},Object(E["b"])(["products","dragging"])),components:{draggable:N.a},watch:{moveTime:function(t){var e=this;t&&(r=setTimeout(function(){e.moveTime={value:!1,product:{}},clearTimeout(r)},2500))}},methods:{buyProduct:function(t){this.$store.dispatch("ADD_PRODUCT_TO_MY_CART",t)},move:function(t){if(window.event){var e=document.querySelector(".drag__container"),n=e.offsetTop,r=window.event.pageY,a=t.item.dataset.el;if(r>n){var o=this.$store.state.products[a];this.moveTime=Object(U["a"])({},this.moveTime,{value:!0,product:o}),this.buyProduct(o)}}this.$store.commit("SWITCH_DRAGGING")},getQuantityByProduct:function(t){var e=this.$store.state.myProducts,n=e.filter(function(e){return e.ProductId===t.ProductId}),r=Object(I["a"])(n,1),a=r[0];return a?a.quantity:0}}},x=R,w=(n("8eea"),Object(_["a"])(x,j,D,!1,null,null,null)),$=w.exports,Q={data:function(){return{products:[]}},computed:Object(U["a"])({},Object(E["b"])(["dragging"])),components:{Products:$}},M=Q,Y=Object(_["a"])(M,S,q,!1,null,null,null),k=Y.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"container myProducts__section"},[t.myProducts.length?n("div",[n("MyProductsList",{attrs:{products:t.myProducts}}),n("TotalPrize")],1):t._e(),t.myProducts.length?t._e():n("NotProducts")],1)},G=[],z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notProducts"},[n("p",[t._v("Aún no has agregado productos al carrito.")]),n("button",{staticClass:"notProducts--link btn",on:{click:t.sendToHome}},[t._v("Ir a Inicio")])])},B=[],J={methods:{sendToHome:function(){this.$router.push({name:"home"})}}},L=J,W=(n("628a"),Object(_["a"])(L,z,B,!1,null,null,null)),F=W.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{role:"table","aria-label":"Mis Productos"}},[t._m(0),n("div",{attrs:{role:"rowgroup"}},t._l(t.products,function(e,r){return n("div",{key:r,staticClass:"row__body",attrs:{role:"row"}},[n("span",{staticClass:"cell__img cell",attrs:{role:"cell"}},[n("img",{attrs:{src:e.ImgMedia,alt:e.ProductName}})]),n("span",{staticClass:"cell__name cell",attrs:{role:"cell"}},[t._v("\n                "+t._s(e.ProductName)+"\n\n                "),n("a",{staticClass:"cell__name--link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.deleteProduct(r)}}},[t._v("\n                    Eliminar\n                ")])]),n("span",{staticClass:"cell__prize cell",attrs:{role:"cell"}},[n("span",{staticClass:"quantity--text"},[t._v("$"+t._s(t._f("format-money")(e.Prize)))])]),n("span",{staticClass:"cell__quantity cell",attrs:{role:"cell"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.myQuantities[r].quantity,expression:"myQuantities[key].quantity"}],attrs:{type:"number",min:"1",title:e.name+" quantity"},domProps:{value:t.myQuantities[r].quantity},on:{change:function(e){return t.changeQuantity(t.myQuantities[r].quantity,r)},input:function(e){e.target.composing||t.$set(t.myQuantities[r],"quantity",e.target.value)}}})])])}),0)])},V=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{role:"rowgroup"}},[n("div",{staticClass:"row__head",attrs:{role:"row"}},[n("span",{staticClass:"cell__prize--head cell",attrs:{role:"cell"}},[t._v("Precio")]),n("span",{staticClass:"cell__quantity cell",attrs:{role:"cell"}},[t._v("Cantidad")])])])}],X=n("70f1"),Z=n.n(X),tt=n("f499"),et=n.n(tt),nt={props:{products:{type:Array,default:function(){return[]}}},created:function(){this.myQuantities=JSON.parse(et()(this.products))},methods:{deleteProduct:function(t){this.$store.dispatch("DELETE_PRODUCT",{index:t})},changeQuantity:function(t,e){var n=Z()(t);this.$store.dispatch("UPDATE_QUANTITY_PRODUCT",{index:e,quantity:n})}}},rt=nt,at=(n("4001"),Object(_["a"])(rt,K,V,!1,null,null,null)),ot=at.exports,ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"total__container"},[t._v("\n    Subtotal ("+t._s(t.quantity)+" "+t._s(t.quantity>1?"productos":"producto")+") "),n("span",{staticClass:"quantity--text"},[t._v("$"+t._s(t._f("format-money")(t.getTotalAccount)))])])},st=[],it={computed:Object(U["a"])({},Object(E["b"])(["quantity"]),{getTotalAccount:function(){return this.$store.getters.getTotalAccount}})},ut=it,lt=(n("ba67"),Object(_["a"])(ut,ct,st,!1,null,null,null)),dt=lt.exports,mt={components:{NotProducts:F,MyProductsList:ot,TotalPrize:dt},computed:Object(U["a"])({},Object(E["b"])(["myProducts"]))},_t=mt,pt=(n("bf9c"),Object(_["a"])(_t,H,G,!1,null,null,null)),ft=pt.exports;a["a"].use(O["a"]);var vt=new O["a"]({base:"",routes:[{path:"/",name:"home",component:k},{path:"/mis-productos",name:"myProducts",component:ft},{path:"*",name:"default",component:k}]}),yt=(n("20d6"),n("795b")),Tt=n.n(yt),Pt=n("75fc"),gt=n("7618");a["a"].use(E["a"]);var bt=new E["a"].Store({state:{products:[],myProducts:[],quantity:0,dragging:!1},getters:{getTotalAccount:function(t){return t.myProducts.reduce(function(t,e){var n="object"===Object(gt["a"])(t)?t.quantity*t.Prize:t;return n+e.quantity*e.Prize},0)}},mutations:{SET_PRODUCTS:function(t,e){t.products=Object(Pt["a"])(e)},ADD_PRODUCT_TO_MY_CART:function(t,e){t.myProducts.push(e)},SET_MY_PRODUCTS:function(t,e){t.myProducts=Object(Pt["a"])(e)},INCREMENT_QUANTITY_PRODUCT:function(t,e){a["a"].set(t.myProducts[e],"quantity",t.myProducts[e].quantity+1)},CHANGE_QUANTITY_PRODUCT:function(t,e){var n=e.index,r=e.quantity;a["a"].set(t.myProducts[n],"quantity",r)},PUSH_QUANTITY_PRODUCTS:function(t,e){t.quantity+=e.quantity},SUBTRACT_QUANTITY:function(t,e){t.quantity-=e.quantity},DELETE_PRODUCT:function(t,e){t.myProducts=[].concat(Object(Pt["a"])(t.myProducts.slice(0,e.index)),Object(Pt["a"])(t.myProducts.slice(e.index+1)))},SWITCH_DRAGGING:function(t){t.dragging=!t.dragging}},actions:{ADD_PRODUCT_TO_MY_CART:function(t,e){return new Tt.a(function(n){var r=t.state.myProducts.findIndex(function(t){return t.ProductId===e.ProductId}),a=JSON.parse(localStorage.getItem("products"));r>-1?(t.commit("INCREMENT_QUANTITY_PRODUCT",r),a[r][1]+=1,localStorage.setItem("products",et()(a))):(t.commit("ADD_PRODUCT_TO_MY_CART",Object(U["a"])({},e,{quantity:1})),a.push([e.ProductId,1]),localStorage.setItem("products",et()(a))),t.commit("PUSH_QUANTITY_PRODUCTS",{quantity:1}),n(t.state.myProducts)})},DELETE_PRODUCT:function(t,e){var n=e.index,r=t.state.myProducts[n].quantity;t.commit("SUBTRACT_QUANTITY",{quantity:r}),t.commit("DELETE_PRODUCT",{index:n});var a=JSON.parse(localStorage.getItem("products"));a=[].concat(Object(Pt["a"])(a.slice(0,n)),Object(Pt["a"])(a.slice(n+1))),localStorage.setItem("products",et()(a))},UPDATE_QUANTITY_PRODUCT:function(t,e){var n=e.index,r=e.quantity,a=t.state.myProducts[n].quantity,o=r-a,c=JSON.parse(localStorage.getItem("products"));o<0?t.commit("SUBTRACT_QUANTITY",{quantity:Math.abs(o)}):o>0&&t.commit("PUSH_QUANTITY_PRODUCTS",{quantity:o}),c[n][1]=r,localStorage.setItem("products",et()(c)),t.commit("CHANGE_QUANTITY_PRODUCT",{index:n,quantity:r})},GET_MY_PRODUCTS:function(t){n.e("chunk-2d210098").then(n.t.bind(null,"b5d3",3)).then(function(e){var n=e.default;t.commit("SET_PRODUCTS",n);var r=JSON.parse(localStorage.getItem("products"));if(r){if(r.length){var a=0,o=r.reduce(function(e,n){var r=Object(I["a"])(n,2),o=r[0],c=r[1],s=t.state.products.filter(function(t){return t.ProductId===o}),i=Object(I["a"])(s,1),u=i[0];return a+=c,e.push(Object(U["a"])({},u,{quantity:c})),e},[]);t.commit("PUSH_QUANTITY_PRODUCTS",{quantity:a}),t.commit("SET_MY_PRODUCTS",o)}}else localStorage.setItem("products",et()([]))})}}}),ht=(n("6b54"),n("a481"),{});function Ct(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}ht.install=function(t){t.filter("format-money",function(t){return t?Ct(t):""})};var Ot=ht;n("85c3");a["a"].use(Ot),a["a"].config.productionTip=!1,new a["a"]({router:vt,store:bt,render:function(t){return t(C)}}).$mount("#app")},"628a":function(t,e,n){"use strict";var r=n("134c"),a=n.n(r);a.a},"6a3f":function(t,e,n){},"7a66":function(t,e,n){},"85c3":function(t,e,n){},"8eea":function(t,e,n){"use strict";var r=n("fb4e"),a=n.n(r);a.a},ba67:function(t,e,n){"use strict";var r=n("bb9b"),a=n.n(r);a.a},bb9b:function(t,e,n){},bf9c:function(t,e,n){"use strict";var r=n("7a66"),a=n.n(r);a.a},d0dc:function(t,e,n){"use strict";var r=n("169d"),a=n.n(r);a.a},d176:function(t,e,n){t.exports=n.p+"img/cart.131ee69e.svg"},dead:function(t,e,n){"use strict";var r=n("6a3f"),a=n.n(r);a.a},fb4e:function(t,e,n){}});
//# sourceMappingURL=app.521d5338.js.map